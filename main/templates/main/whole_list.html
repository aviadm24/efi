{% extends 'main/base.html' %}
{% block transfer_list %}
{% load render_table from django_tables2 %}
<h3>main list</h3>

<div>
<table class="table table-bordered" id="select_list">
  <thead>
    <tr>
        <th>project_filter</th>
        <th>customer_filter</th>
        <th>provider_filter</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td>
            <select id="p_num" name="p_num_list" onChange="project_filter()" data-default="---SELECT---">
              <option  value="---SELECT---" selected="selected">---SELECT---</option>
              {% for p_num in p_num_list %}
               <option value="{{p_num}}">{{p_num|capfirst}}</option>
              {% endfor %}
            </select>
        </td>
        <td>
            <select id="customer" name="customer_list" onChange="customer_filter()">
              <option  value="---SELECT---" selected="selected">---SELECT---</option>
              {% for customer in customer_list %}
               <option value="{{customer}}">{{customer|capfirst}}</option>
              {% endfor %}
            </select>
        </td>
        <td>
            <select id="provider" name="provider_list" onChange="provider_filter()">
              <option  value="---SELECT---" selected="selected">---SELECT---</option>
              {% for provider in provider_list %}
               <option value="{{provider}}">{{provider|capfirst}}</option>
              {% endfor %}
            </select>
        </td>
     </tr>
   </tbody>
</table>


<form method="post" action="/" style="">{% csrf_token %}
    {% for field in date_form %}
        {% if field.name == 'start'%}
            <td>
              <div class="input-group date" id="{{field.name}}" data-target-input="nearest">
                  <input name="{{field.name}}" id="id_{{field.name}}" type="text" class="form-control datetimepicker-input" data-target="#{{field.name}}"/>
                  <div class="input-group-append" data-target="#{{field.name}}" data-toggle="datetimepicker">
                      <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                  </div>
              </div>
            </td>
        {%else%}
              {% if field.name == 'end' %}
                    <td>
                      <div class="input-group date" id="{{field.name}}" data-target-input="nearest">
                          <input name="{{field.name}}" id="id_{{field.name}}" type="text" class="form-control datetimepicker-input" data-target="#{{field.name}}"/>
                          <div class="input-group-append" data-target="#{{field.name}}" data-toggle="datetimepicker">
                              <div class="input-group-text"><i class="fa fa-calendar"></i></div>
                          </div>
                      </div>
                    </td>

              {% endif %}
        {% endif %}
    {% endfor %}
    <!--<input type="submit" name="date_filter" value="שלח" />-->
</form>
<br>
<button onclick="date_filter()">date filter</button>
<br>
<br>
<button id="reset"><a href="/">reset filters</a></button>
<br>
<br>
</div>
{% render_table table_all %}


<!--<table class="table table-bordered">-->
  <!--<thead>-->
    <!--<tr>-->
      <!--<th>Update</th>-->
      <!--{% for name in field_names %}-->
      <!--<th>{{name}}</th>-->
      <!--{% endfor %}-->
    <!--</tr>-->
  <!--</thead>-->
  <!--<tbody>-->
    <!--{% for row in all %}-->

          <!--<tr>-->
            <!--<td><a href="/update_row/{{row.id}}">{{ forloop.counter }}</a></td>-->
            <!--<td>{{ row.Project_num}}</td>-->
            <!--<td>{{ row.Customer}}</td>-->
            <!--<td>{{ row.Date }}</td>-->
            <!--<td>{{ row.Type_of_service}}</td>-->
            <!--<td>{{ row.Type_of_car }}</td>-->
            <!--<td>{{ row.Driver_name }}</td>-->
            <!--<td>{{ row.Luggage }}</td>-->
            <!--<td>{{ row.Name }}</td>-->
            <!--<td>{{ row.Flight_num }}</td>-->
            <!--<td>{{ row.Time_of_flight }}</td>-->
            <!--<td>{{ row.Time_of_PU }}</td>-->
            <!--<td>{{ row.End_time }}</td>-->
            <!--<td>{{ row.From }}</td>-->
            <!--<td>{{ row.To }}</td>-->
            <!--<td>{{ row.Extra_hours_client }}</td>-->
            <!--<td>{{ row.Based_on_client }}</td>-->
            <!--<td>{{ row.Extra_hours_provider }}</td>-->
            <!--<td>{{ row.Based_on_provider }}</td>-->
              <!--<td>{{ row.Total_extra_client }}</td>-->
              <!--<td>{{ row.Total_extra_provider }}</td>-->
            <!--<td>{{ row.KM }}</td>-->
            <!--<td>{{ row.Comments }}</td>-->
            <!--<td>{{ row.Provider }}</td>-->
            <!--<td>{{ row.Cost_per_client }}</td>-->
            <!--<td>{{ row.Cost_per_provider }}</td>-->
            <!--<td>{{ row.Cost_extra_hour_client }}</td>-->
            <!--<td>{{ row.Cost_extra_hour_provider }}</td>-->
            <!--<td>{{ row.Cost_transfer_client }}</td>-->
            <!--<td>{{ row.Cost_transfer_provider }}</td>-->
            <!--<td>{{ row.Cost_VIP_client }}</td>-->
            <!--<td>{{ row.Cost_VIP_provider }}</td>-->
            <!--<td>{{ row.Status }}</td>-->
            <!--<td class="color_id">{{ row.Color }}</td>-->

          <!--</tr>-->

    <!--{% endfor %}-->
  <!--</tbody>-->
<!--</table>-->

{% endblock %}